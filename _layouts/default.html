<!DOCTYPE html>
<html lang="{{ site.lang | default: "en-US" }}">
<head>
  <script src="https://cdn.jsdelivr.net/particles.js/2.0.0/particles.min.js"></script>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;700&display=swap" rel="stylesheet">
  
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  {% seo %}
  <link rel="stylesheet" href="{{ "/assets/css/style.css?v=" | append: site.github.build_revision | relative_url }}">
  <link rel="stylesheet" href="{{ "/assets/css/custom.css?v=" | append: site.github.build_revision | relative_url }}">
  <link rel="stylesheet" href="{{ "/assets/css/drone.css?v=" | append: site.github.build_revision | relative_url }}">
  <link rel="stylesheet" href="{{ "/assets/css/image.css?v=" | append: site.github.build_revision | relative_url }}">
  {% include head-custom.html %}
</head>
<body>
  <div id="particles-js"></div>
  <div class="wrapper">
    <header>
      {% if site.logo %}
        <img src="{{site.logo | relative_url}}" alt="Logo" class="profile-img" />
      {% endif %}

      <div class="header-content">
        <img src="{{ '/assets/img/head_shot_circle.jpg' | relative_url }}" alt="Joshua Cardenas" class="profile-img">
        <h1 class="site-title">Joshua S. Cárdenas C.</h1>
        <p class="site-subtitle">Tech Lead | Software & AI Engineer</p>
        
        <div class="social-links">
          <a href="#" target="_blank" title="LinkedIn"><i class="fab fa-linkedin"></i></a>
          <a href="{{ site.github.owner_url }}" target="_blank" title="GitHub"><i class="fab fa-github"></i></a>
          <a href="mailto:joshua-cardenas@outlook.com" title="Email"><i class="fas fa-envelope"></i></a>
          <a href="https://wa.me/573112562317" target="_blank" title="WhatsApp"><i class="fab fa-whatsapp"></i></a>
        </div>
      </div>

      {% if site.show_downloads %}
      <ul class="downloads">
        <li><a href="{{ site.github.zip_url }}" class="btn">Download Resume (ZIP)</a></li>
      </ul>
      {% endif %}
    </header>
    
      <main>
          {% assign sections = content | split: '## ' %}
          {% for section in sections %}
              {% if section != "" %}
              <section class="portfolio-section" data-section-index="{{ forloop.index0 }}">
                <h2>{{ section | split: '\n' | first }}</h2>
                  <div class="section-content">
                    {{ section | split: '\n' | slice: 1, section.size | join: '\n' | markdownify }}
                  </div>
                </section>
              {% endif %}
          {% endfor %}
      </main>
  </div>
  <div class="viewport-overlay"></div>
  
  <script>
    document.addEventListener('DOMContentLoaded', function () {
      const sections = document.querySelectorAll('.portfolio-section');
      const firstSection = sections[0];

        if (firstSection) {
            firstSection.classList.add('revealed');
        }
    
        sections.forEach((section, index) => {
            if (index === 0) return;
                const observer = new IntersectionObserver(entries => {
                    entries.forEach(entry => {
                    if (entry.isIntersecting) {
                            entry.target.classList.add('revealed');
                            observer.unobserve(entry.target);
                        } else {
                            entry.target.classList.remove('revealed')
                        }
                    });
                }, {
                threshold: 0.15, // Un poco más rápido para aparecer
                });
            observer.observe(section);
        });

      particlesJS('particles-js', {
          particles: {
            number: {
                value: 80, // Reducido para que no se vea tan saturado y cargue más rápido
              density: {
                enable: true,
                value_area: 800
              }
            },
              color: {
                  value: '#0066cc'
              },
              shape: {
                type: 'circle', // Cambiado a círculo, se ve más tech/datos que 'edge'
              },
              opacity: {
                  value: 0.5,
                  random: false,
              },
              size: {
                  value: 3,
                  random: true,
              },
              line_linked: {
                enable: true, // Activamos las líneas entre nodos, ¡muy de IA/Redes Neuronales!
                  distance: 150,
                  color: '#0066cc',
                  opacity: 0.4,
                  width: 1
              },
              move: {
                enable: true,
                speed: 2,
                  direction: 'none',
                  random: false,
                straight: false,
                  out_mode: 'out',
                  bounce: false,
              }
          },
            interactivity: {
              detect_on: 'canvas',
              events: {
                onhover: {
                      enable: true,
                  mode: 'grab' // Al pasar el mouse, atrae las partículas
                },
                  onclick: {
                      enable: true,
                  mode: 'push'
                },
                resize: true
              },
            },
          retina_detect: true
    });
    });
  </script>
</body>
</html>
